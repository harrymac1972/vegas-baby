<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticketmaster Events</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Las Vegas Events List</h1>

    <form id="eventForm">
        <label for="cityInput">Enter City:</label>
        <input type="text" id="cityInput" value="Las Vegas">
        <label for="numberOfEvents">Number of Events:</label>
        <input type="number" id="numberOfEvents" value="3" min="1" max="10">
        <button type="submit">Get Events</button>
    </form><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ticketmaster Events</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <link rel="stylesheet" href="ticketmaster.css">
</head>
<body>

    <h1>Las Vegas Events List</h1>

    <form id="eventForm">
        <label for="cityInput">Enter City:</label>
        <input type="text" id="cityInput" value="Las Vegas">
        <label for="numberOfEvents">Number of Events:</label>
        <input type="number" id="numberOfEvents" value="3" min="1" max="10">
        <label for="searchInput">Search Event:</label>
        <input type="text" id="searchInput" placeholder="Enter event name">
        <button type="submit">Get Events</button>
    </form>

    <div id="event-info"></div>

    <script src="ticketmaster.js"></script>
</body>
</html>


    <div id="event-info"></div>

    <script>
        $(document).ready(function() {
            $('#eventForm').submit(function(event) {
                event.preventDefault();
                getTicketmasterEvents();
            });
        });

        function getTicketmasterEvents() {
            const apiKey = 'ZhrXpADQebFjFTk9LOYxv1AqB7SpjLir';
            const cityInput = $('#cityInput').val();
            const numberOfEvents = $('#numberOfEvents').val();

            $.ajax({
                type: 'GET',
                url: `https://app.ticketmaster.com/discovery/v2/events.json?size=${numberOfEvents}&apikey=${apiKey}&city=${cityInput}`,
                async: true,
                dataType: 'json',
                success: function(json) {
                    console.log(json);
                    displayEventInfo(json);
                },
                error: function(xhr, status, err) {
                    console.error('Error fetching Ticketmaster events:', err);
                    $('#event-info').html('<p>Error fetching event information</p>');
                }
            });
        }

        function displayEventInfo(eventData) {
            const eventInfoContainer = $('#event-info');

            if (eventData._embedded && eventData._embedded.events && eventData._embedded.events.length > 0) {
                let eventsHTML = '';

                eventData._embedded.events.forEach(event => {
                    eventsHTML += `
                        <div>
                            <h2>${event.name}</h2>
                            <p>Date: ${event.dates.start.localDate}</p>
                            <p>Time: ${event.dates.start.localTime}</p>
                            <p>Venue: ${event._embedded.venues[0].name}</p>
                        </div>
                    `;
                });

                eventInfoContainer.html(eventsHTML);
            } else {
                eventInfoContainer.html('<p>No event information available</p>');
            }
        }
    </script>

</body>
</html>
